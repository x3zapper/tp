@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor LOGIC_COLOR_T4
skinparam classBackgroundColor LOGIC_COLOR

Class "<<interface>>\nParser" as Parser
Class FindCommandParser {
  +parse(String): FindCommand
  -extractSearchMode(String): SearchMode
  -extractSearchModeFromPrefix(String): SearchMode
  -extractSearchModeFromSuffix(String): SearchMode
  -parseMode(String, String): SearchMode
  -extractKeywords(String): List<String>
}
Class FindCommand {
  -predicate: NameContainsKeywordsPredicate
  +execute(Model): CommandResult
}
Class NameContainsKeywordsPredicate {
  -keywords: List<String>
  -isStrict: boolean
  -isFuzzy: boolean
  +test(Person): boolean
  +getMinimumDistance(Person): int
}
Class ParserException

note right of FindCommandParser
  Supports s/ prefix for search modes:
  s/0 (relaxed - default)
  s/1 (strict)
  s/2 (fuzzy)

  Mode can be at beginning or end
end note

FindCommandParser .up.|> Parser
Parser .right.> ParserException: throws >
FindCommandParser .right.> ParserException: throws >
FindCommandParser ..> FindCommand: creates >
FindCommand --> NameContainsKeywordsPredicate: uses >
@enduml

